##############################################
# 1. SERVER CONFIGURATION
##############################################
server.port=8081

##############################################
# 2. APPLICATION NAME (Used for Consul Registration)
##############################################
spring.application.name=user-microservice

##############################################
# 3. SERVICE DISCOVERY - CONSUL CONFIGURATION
##############################################
spring.cloud.consul.host=localhost
spring.cloud.consul.port=8500
spring.cloud.consul.discovery.register=true
spring.cloud.consul.discovery.instance-id=${spring.application.name}-${server.port}
spring.cloud.consul.discovery.service-name=${spring.application.name}
spring.cloud.consul.discovery.prefer-ip-address=true
spring.cloud.consul.discovery.hostname=localhost
spring.cloud.consul.discovery.health-check-url=http://localhost:${server.port}/actuator/health
spring.cloud.consul.discovery.health-check-interval=10s
spring.cloud.consul.discovery.health-check-critical-timeout=1m

##############################################
# 4. DATABASE CONFIGURATION (MySQL)
##############################################
spring.datasource.url=jdbc:mysql://localhost:3306/connecto_users_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.pool-name=ConnectoUserHikariPool

##############################################
# 5. JPA / HIBERNATE CONFIGURATION
##############################################
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

##############################################
# 6. JWT CONFIGURATION
##############################################
jwt.secret=ZmI1MDRiOTQ4ZTIxZDQ2OWE4YmI5N2JjYTYzZGU5NzA3ZDBhMDFmZTM4Yjg2N2QyM2NmYjEwMjU1MDMyYzI1NQ==
jwt.expiration=3600000

##############################################
# 7. LOGGING CONFIGURATION (Optional for Debugging)
##############################################
logging.level.org.springframework=INFO
logging.level.com.connecto=DEBUG
logging.file.name=logs/user-microservice.log

##############################################
# 8. MISC SETTINGS
##############################################
spring.main.banner-mode=off
spring.application.admin.enabled=true

##############################################
# 9. ACTUATOR CONFIGURATION (For Consul Health Checks)
##############################################
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
management.server.port=${server.port}
